{% extends "layouts/base.html" %}
{% block title %}SPAREPART{% endblock %}
<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}
    <!-- Google Font: Source Sans Pro -->
    <link rel="stylesheet" href="/static/assets/css/font.css">
    <!-- Font Awesome -->
    <link rel="stylesheet"
          href="/static/assets/plugins/fontawesome-free/css/all.min.css">
    <!-- DataTables -->
    <link rel="stylesheet"
          href="/static/assets/plugins/datatables-bs4/css/dataTables.bootstrap4.min.css">
    <link rel="stylesheet"
          href="/static/assets/plugins/datatables-responsive/css/responsive.bootstrap4.min.css">
    <!-- Theme style -->
    <link rel="stylesheet" href="/static/assets/css/adminlte.min.css">
{% endblock stylesheets %}
{% block content-header %}SPAREPART PAGE{% endblock %}
{% block content %}
    {% if spareparts %}
        <div class="card">
            <div class="card-header">
                <h3 class="card-title">SPAREPART LIST</h3>
            </div>
            <!-- /.card-header -->
            <div class="card-body">
                <table id="example1" class="table table-bordered table-striped">
                    <thead>
                        <tr>
                            <th>
                                id
                            </th >
                            <th>name</th>
                            <th>part_number</th>
                            <th>sub_group</th>
                            <th>qty</th>
                            <th>maker</th>
                            <th>image</th>
                            <th>action</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for part in spareparts %}
                            <tr>
                                <td>{{ part.id }}</td>
                                <td>{{ part.name }}</td>
                                <td>{{ part.part_number }}</td>
                                <td>{{ part.sub_group }}</td>
                                <td>{{ part.qty }}</td>
                                <td>{{ part.maker }}</td>
                                <td>
                                    <img src="{{ part.image.url }}" width="60" height="60">
                                </td>
                                <td>
                                    <form>
                                        <div class="btn-group">
                                            <button type="submit"
                                                    class="btn btn-info"
                                                    formaction="{% url 'deposit' part.id %}">deposit</button>
                                            <button type="submit"
                                                    class="btn btn-warning"
                                                    formaction="{% url 'withdraw' part.id %}">withdraw</button>
                                            <button type="submit"
                                                    class="btn btn-danger"
                                                    formaction="{% url 'delete' part.id %}">delete</button>
                                        </div>
                                    </form>
                                </td>
                            </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
            <!-- /.card-body -->
        </div>
        <!-- /.card -->
    {% else %}
        <p>
            No access
        </p>
    {% endif %}
{% endblock %}
<!-- Specific Page JS goes HERE  -->
{% block javascripts %}
    <!-- jQuery -->
    <script src="/static/assets/plugins/jquery/jquery.min.js"></script>
    <!-- Bootstrap 4 -->
    <script src="/static/assets/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
    <!-- DataTables -->
    <script src="/static/assets/plugins/datatables/jquery.dataTables.min.js"></script>
    <script src="/static/assets/plugins/datatables-bs4/js/dataTables.bootstrap4.min.js"></script>
    <script src="/static/assets/plugins/datatables-responsive/js/dataTables.responsive.min.js"></script>
    <script src="/static/assets/plugins/datatables-responsive/js/responsive.bootstrap4.min.js"></script>
    <!-- AdminLTE App -->
    <script src="/static/assets/js/adminlte.min.js"></script>
    <!-- AdminLTE for demo purposes -->
    <script src="/static/assets/js/demo.js"></script>
    <!-- page script -->
    <script>
    $(function () {
      $("#example1").DataTable({
        "responsive": true,
        "autoWidth": false,
      });
      $('#example2').DataTable({
        "paging": true,
        "lengthChange": false,
        "searching": false,
        "ordering": true,
        "info": true,
        "autoWidth": false,
        "responsive": true,
      });
    });
    </script>
{% endblock javascripts %}
